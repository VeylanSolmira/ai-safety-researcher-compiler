#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ Running pre-push checks..."

# Type checking and linting already done in pre-commit
# Just run the build to catch SSG/SSR issues
echo "ğŸ”¨ Building project..."
npm run build

if [ $? -ne 0 ]; then
  echo "âŒ Build failed! Please fix errors before pushing."
  echo "ğŸ’¡ This often catches:"
  echo "   - Dynamic server usage in static routes"
  echo "   - Missing environment variables"
  echo "   - Import/export issues"
  exit 1
fi

echo "âœ… Build successful! Pushing to remote..."